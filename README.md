# 만들고싶은거 만드는 프로젝트

- 대충 간단한 발표용 자료 만들기 귀찮고 어디 저장하기도 싫고 공유도 괜히 내 구글 슬라이드 웹 공유하는것도 번거로워서 텍스트파일만 띡 올리면 알아서 프레젠테이션 나오는거 만들려고... 겸사겸사 일단 재밌어보임

---

## 1. t2w (2024.05.18~)

### 주제

- 텍스트 파일 보내면 웹 페이지 하나 프레젠테이션해서 반환(redirect)해주는 서버 만들기

### 백엔드

- fastapi(초기) -> spring boot(오라클이 버틴다면)

### 상세 조사 후기 

- 대충 reveal.js를 개발자가 만지작 거리는게 아니라 내가 해야할 것은 좀 더 덜 귀찮은 방향으로(몰라도 버튼 하나로) 만드는 것

### "기능"에 대한 세부 계획

1. 가이드용 ppt 제너레이터 만들기(사용설명서) <- 계획이 바뀌는바람에 일단 멈춤

~~2. 왼쪽 위에 대주제 써주는 기능 <- 이거 하려면 지금 마크다운 서식 고쳐야하는데...~~

~~3. 그림 추가 기능(전체/왼/오/위/아래) <- 이거 하려면 지금 마크다운 서식 고쳐야하는데...~~

~~4. nginx 앞에 둬서 gunicorn로 돌리는 구성 <- 완~~

5. 깃허브 파이프라인 만들어두기 <- <U>**now**</U> 수동 파이프라인 : git clone ~으로 수동 소스코드 가져오기, sudo systemctl restart ~의 수동 재시작으로 구성됨)

~~6. 현재 텍스트파일 업로드 후 변환 이 순서로 돌아가는데 이걸 변경해볼것 예전에 봤던 DB없는 사이트처럼 파일내용을 url에 DB처럼 축약시키게 하고 내용은 textarea같은거로 받거나 url로만 만드는 제너레이터 비슷하게 변경해보자 <- 완~~

7. 프레젠테이션 템플릿을 서버에서 내용 축약후 200자 이내라면 URL로도 볼 수 있게 만들어보기 <- 자료 찾는중

### 현재까지 향후 계획

~~1. html 쓰기도 싫을 수 있으니 reveal.js를 아예 안보이게 <- 완~~

~~2. 다른 기능도 제공하게 향후 계획을 세워보기 <- 세웠지만 변경중~~

~~3. reveal.js를 대체해서 내가 해보기? <- 이거 하지 말라고함~~

4. 서버에 올릴땐 CORS 확인, docs 막기, presentation 좀 만져놓기 <- 결론적으로 서버만 막으면 프론트는 머리싸맬 필요가 없다. 하지만 할수있는것만 해두자!

5. 나중에 t2w 브랜치 분리하기

6. gunicorn에 대해 좀 알아둬야할 필요가 있다. 모니터링 도구가 필요할 수 있음

~~7. 프로젝트가 커질수나 있을진 모르겠지만 아무튼 도메인도 생각해보기. 없다면 githubio나... <- 프로젝트 3개 이상 된다면 고려해볼것~~

### 발생한 문제에 대한 처리

1. 종속패키지 starlette에 인코딩방식이 latin-1로 되어있어 한글 인코딩이 되지 않는 문제
 - datastructures.py의 __getitem__ 함수에서 header_value decode방식을 latin-1에서 utf-8로 변경
 - responses.py의 Response클래스 set_cookie함수에서 마지막 cookie_val의 encode방식을 latin-1에서 utf-8로
 - 위 작업이 매우 꼽지만 자료 찾아본 결과 최종 답변은 꼬우면 네가 패키지 올려라 입니다

2. 위 문제를 해결하며 관찰한 결과 venv에 있는 starlette패키지가 아니라 내 컴퓨터에 설치된 python의 starlette패키지를 갖다 쓰는것을 발견(???)
 - vscode의 문제로 가상환경이 아님에도 (venv)가 남아있는 오류가 있으니 가상환경 체크하고 할 것

3. 평가판 종료 <- 30일이라면서 왜 7일컷인지는 모르겠지만 아무튼 비용발생은 0